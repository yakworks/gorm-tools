apply plugin: 'java-library'
apply plugin: "yakworks.grails-plugin"

group = "org.yakworks"

dependencies {

  implementation project(":gorm-tools")
  implementation project(":gorm-tools-security")

  //for AppResourceLoader in AttachmentSupport
  api "org.grails.plugins:view-tools:$vViewTools"

  // for the nine.rally.testing helpers
  compileOnly "org.grails:grails-gorm-testing-support"
  compileOnly "org.grails.plugins:build-test-data:$vBuildTestData"
}

//XXX for now we exlude the Orgs and force and implementation of them in app until we figure out how to use shadowJar
// and not have it mess with intellij

// jar {
//   exclude('yakworks/rally/orgs/model/Org.class')
//   exclude('yakworks/rally/orgs/repo/OrgRepo.class')
//   exclude('yakworks/rally/orgs/repo/OrgRepo$*.class')
//   exclude('yakworks/rally/orgs/model/Org$*.class') //also the closure ones
//

// sourceSets.main.resources.srcDirs += "src/main/groovy"

// task printSourceSetInformation(){
//   doLast{
//     println "["+sourceSets.main.name+"]"
//     println "${sourceSets.main.resources.srcDirs}"
//     // sourceSets.each { srcSet ->
//     //   println "["+srcSet.name+"]"
//     //   print "-->Source directories: "+srcSet.allResources.srcDirs+"\n"
//     //   print "-->Output directories: "+srcSet.output.classesDirs.files+"\n"
//     //   println ""
//     // }
//   }
// }
