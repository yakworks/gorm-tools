plugins {
  id 'org.springframework.boot'
  id 'io.spring.dependency-management'
  id 'yakworks.groovy-lib'
}

//Common setup for the gorm libraries in this project
apply from: "${rootDir}/gradle/compile.gradle"
apply from: "${rootDir}/gradle/publish.gradle"
apply from: "${rootDir}/gradle/test-unit.gradle"
// apply from: "${rootDir}/gradle/gorm-lib.gradle"
// apply from: "${rootDir}/gradle/test-integration.gradle"

//shared resources to pick up the Gorm defaults from application.groovy, as well as simple logback
// sourceSets.test.resources.srcDirs += [project(':gorm-test-support').sourceSets.main.resources]

dependencies {
  api "org.yakworks:groovy-commons:$vGroovyCommons"

  compileOnly 'org.springframework.boot:spring-boot-starter-web'
  implementation "org.springframework.boot:spring-boot-starter-security"

  api 'org.springframework.security:spring-security-saml2-service-provider'
  api 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'

  compileOnly "jakarta.annotation:jakarta.annotation-api:$vJakartaAnn"
  compileOnly "javax.inject:javax.inject:1"

  api project(":security-core")

  testImplementation 'org.springframework.boot:spring-boot-starter-test'
  testImplementation 'org.springframework.security:spring-security-test'

  testImplementation("org.spockframework:spock-core:${vSpock}")
  testImplementation("org.spockframework:spock-spring:${vSpock}")

}

// configurations.api {
//   exclude group: 'org.grails', module: 'grails-plugin-controllers'
// }
